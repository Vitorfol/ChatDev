'''
DOCSTRING:
Main HTML page for the Wheel of Names app.
Contains UI elements:
- name input and list
- canvas for wheel
- theme selector
- spin / clear / add buttons
Includes JS files wheel.js and main.js for behavior.
Also injects a dynamically generated URL for themes.json using Flask's url_for so the client can reliably fetch the resource even when the app is mounted under a subpath.
'''
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Wheel of Names</title>
  <!-- Main stylesheet -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
  <div class="container">
    <header>
      <h1>Wheel of Names</h1>
      <p>Enter names, choose a theme, and spin to pick a random winner.</p>
    </header>
    <main class="main-grid">
      <section class="left-panel">
        <div class="controls">
          <label for="name-input">Add a name</label>
          <div class="input-row">
            <input id="name-input" type="text" placeholder="Enter name and press Add" autocomplete="off">
            <button id="add-name" type="button">Add</button>
          </div>
          <label for="names-textarea">Names (one per line)</label>
          <textarea id="names-textarea" placeholder="Alice\nBob\nCharlie"></textarea>
          <div class="buttons-row">
            <button id="load-sample" type="button">Load Sample</button>
            <button id="clear-names" type="button">Clear</button>
            <button id="import-names" type="button">Import</button>
            <button id="export-names" type="button">Export</button>
          </div>
          <label for="theme-select">Theme</label>
          <select id="theme-select" aria-label="Theme selector"></select>
          <div class="spin-controls">
            <button id="spin-btn" class="spin" type="button">SPIN</button>
            <div id="result" class="result hidden" aria-live="polite"></div>
          </div>
        </div>
      </section>
      <section class="right-panel">
        <div class="wheel-wrapper" id="wheel-wrapper">
          <!-- Canvas will be scaled for high-DPI via JS -->
          <canvas id="wheel-canvas" width="600" height="600" aria-label="Wheel of names"></canvas>
          <div id="pointer" aria-hidden="true">â–¼</div>
        </div>
      </section>
    </main>
    <footer>
      <small>Built with Flask + Canvas. Themes available.</small>
    </footer>
  </div>
  <!-- Provide the correct URL for themes.json (generated by Flask).
       This ensures the client can fetch themes.json even when the app is mounted under a prefix. -->
  <script>
    window.THEMES_JSON_URL = "{{ url_for('static', filename='themes.json') }}";
  </script>
  <script src="{{ url_for('static', filename='js/wheel.js') }}"></script>
  <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>